# 20251113_PGRN02_DevLog.md

## 개발 로그 - 2025년 11월 13일 (두 번째)

### Phase 4: 비주얼 및 사운드 (4주차) - 작업 재개

**작업 내용:**
- `game.py`에 `AssetManager` 통합
  - `Game` 클래스에서 `AssetManager` 인스턴스화
  - `_load_assets` 메서드를 추가하여 게임에 필요한 모든 이미지 에셋을 미리 로드하도록 구성
  - `Player`와 `ObstacleManager` 생성자에 `AssetManager` 인스턴스를 의존성으로 주입
- 임시 플레이스홀더 이미지 생성
  - `create_placeholders.py` 스크립트를 작성하여 `pygame`으로 플레이어(달리기, 점프, 숙이기) 및 장애물(소화전, 나무, 새)의 단색 사각형 이미지 파일(.png)을 `assets/images` 폴더에 생성
- `Player` 클래스 리팩토링 (스프라이트 및 애니메이션 적용)
  - `__init__`에서 `AssetManager`를 주입받고 `AnimationController`를 초기화
  - `_setup_animations` 메서드를 구현하여 달리기, 점프, 숙이기 상태에 대한 애니메이션 프레임을 `AssetManager`로부터 로드
  - `draw` 메서드를 `pygame.draw.ellipse` 대신 `AnimationController`의 현재 프레임을 `blit`하도록 수정
  - `jump`, `duck`, `stand_up`, `_check_landing` 메서드에서 `_animation_controller.play()`를 호출하여 상태에 맞는 애니메이션을 재생하도록 로직 추가
- `Obstacle` 클래스 및 하위 클래스 리팩토링 (스프라이트 적용)
  - `Obstacle`의 `__init__`을 수정하여 `AssetManager`와 이미지 이름을 받도록 변경
  - `Hydrant`, `Stump`, `Bird` 클래스가 `AssetManager`를 주입받고, 자신의 이미지 이름을 부모 클래스에 전달하도록 수정
  - `Obstacle`의 `draw` 메서드를 `pygame.draw.rect` 대신 `AssetManager`의 이미지를 `blit`하도록 수정
- `ObstacleManager` 클래스 리팩토링
  - `__init__`에서 `AssetManager`를 주입받도록 수정
  - `_create_random_obstacle` 팩토리 메서드에서 각 장애물 객체 생성 시 `AssetManager`를 전달하도록 수정

**검증:**
- `python create_placeholders.py` 실행하여 `assets/images` 폴더에 플레이스홀더 이미지들이 생성되는 것을 확인
- `python main.py` 실행
  - 기존에 타원과 사각형으로 렌더링되던 플레이어와 장애물들이 모두 단색의 사각형 이미지(플레이스홀더 스프라이트)로 렌더링되는 것을 확인
  - 플레이어가 달릴 때 두 가지 색상의 갈색 사각형이 번갈아 표시되며 애니메이션 효과가 나타나는 것을 확인
  - 점프 시에는 파란색 사각형, 숙일 시에는 더 작은 갈색 사각형으로 플레이어 이미지가 변경되는 것을 확인

**다음 단계:**
- Phase 5: 테스트 및 배포 준비
  - 난이도 밸런싱
  - 버그 수정 및 예외 처리
  - README.md 문서화
  - OOP 코드 품질 최종 점검